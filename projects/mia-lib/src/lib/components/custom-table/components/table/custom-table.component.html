<main class="bg-white bd-auto m-2 p-3">
  <h2 class="table-name">{{ tableName }}</h2>

  <!-- Table -->
  <div class="custom-table">
    <mat-table [dataSource]="data" [trackBy]="trackByIdx">
      <mat-header-row *matHeaderRowDef="columns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: columns"></mat-row>

      <!-- Check-box -->
      <ng-container *ngIf="enableCheckbox" matColumnDef="select">
        <mat-header-cell *matHeaderRowDef>
          <mat-checkbox
            color="primary"
            (change)="$event ? masterToggle() : null"
            [checked]="selection.hasValue() && isAllSelected()"
            [indeterminate]="selection.hasValue() && !isAllSelected()"
          ></mat-checkbox>
        </mat-header-cell>
        <mat-cell *cdkCellDef="let row">
          <mat-checkbox
            color="primary"
            (click)="$event.stopPropagation()"
            [checked]="selection.isSelected(row)"
            (change)="$event ? selection.toggle(row) : null; rowSelect()"
          >
          </mat-checkbox>
        </mat-cell>
      </ng-container>

      <!-- Loading spinner -->
      <div *matNoDataRow>
        <div class="d-flex jc-center ai-center my-2">
          <mat-spinner [diameter]="50"></mat-spinner>
        </div>
      </div>
    </mat-table>
  </div>

  <!-- Pagination -->
  <mat-paginator
    *ngIf="pagination"
    [pageSizeOptions]="pageSizeOptions"
    [showFirstLastButtons]="showFirstLastButtons"
  ></mat-paginator>
</main>
